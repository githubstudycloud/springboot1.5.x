以下是几种常见的重启策略：

no（默认）：容器退出时不会自动重启。
on-failure：只有当容器以非零状态码退出时才会自动重启。您可以指定一个可选的最大重启次数。
always：无论退出状态码是什么，容器都会自动重启。
unless-stopped：类似于always，但如果容器被手动停止，则不会自动重启。


非零状态码（Non-zero exit status）是指当一个进程或命令执行完成后返回的一个数值，用于表示执行的结果或状态。通常，状态码为0表示执行成功，而非零状态码表示执行过程中发生了某种错误或异常情况。
在Linux和Unix系统中，状态码是一个8位的整数，范围从0到255。不同的状态码值具有不同的含义，用于标识不同类型的错误或结果。以下是一些常见的状态码约定：

0：表示命令或进程执行成功，没有发生任何错误。
1-255：表示执行过程中发生了错误或异常情况。不同的值可以表示不同类型的错误。

例如，一些常见的非零状态码包括：

1：表示一般性错误
2：表示误用Shell命令
126：表示命令无法执行
127：表示命令未找到
128+n：表示进程因收到信号而终止，其中n是信号编号

当一个容器以非零状态码退出时，通常意味着容器内运行的应用程序或进程遇到了错误或异常情况。这可能是由于各种原因造成的，例如：

应用程序中的编程错误或异常
缺少必要的依赖项或配置
资源不足（如内存不足）
权限问题
网络连接问题

当您为容器配置重启策略时，如果选择on-failure策略，Docker将在容器以非零状态码退出时自动重启容器。这有助于在应用程序遇到错误或异常情况时自动恢复服务。
了解非零状态码的概念对于诊断和处理容器或应用程序的问题非常重要。您可以通过查看容器的日志或使用docker inspect命令来获取容器的退出状态码，以便更好地了解容器退出的原因。

使用Docker部署kafka-exporter，配置文件的持久性取决于您如何管理容器和数据。以下是几种常见的情况：

使用宿主机的配置文件：
如果您将宿主机上的配置文件通过卷挂载的方式映射到容器内部，那么在宿主机上修改配置文件后重启容器，更改将持久保留。例如：
Copydocker run -d --name kafka-exporter \
-v /path/to/kafka-exporter.yml:/etc/kafka-exporter/kafka-exporter.yml \
danielqsj/kafka-exporter
在这种情况下，/path/to/kafka-exporter.yml是宿主机上的配置文件路径，它将被挂载到容器内部的/etc/kafka-exporter/kafka-exporter.yml。
使用容器内部的配置文件：
如果您在创建容器时将配置文件复制到容器内部，那么在容器内部修改配置文件后重启容器，更改将丢失，因为容器重新创建时会使用原始的配置文件。
为了持久保留配置文件的更改，您可以考虑以下方法：

使用数据卷：创建一个数据卷来存储配置文件，并将其挂载到容器内部。这样，即使容器重新创建，配置文件的更改也会持久保留在数据卷中。
创建自定义镜像：将修改后的配置文件打包到一个新的镜像中，然后使用该镜像启动容器。


使用配置管理工具：
如果您使用配置管理工具（如Ansible、Chef、Puppet等）来管理服务的配置，那么在配置文件被修改后，这些工具通常会确保将更改应用到服务或容器中，并在重启后持久保留。

总的来说，为了确保配置文件的更改在重启后持久保留，您可以考虑使用数据卷、自定义镜像或配置管理工具来管理配置文件。这样可以确保配置文件的更改在容器或服务重启后仍然生效。